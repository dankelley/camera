Q
source('05.R')
q()
source("/tmp/r-plugin-kelley/Rsource-5408-photo.R", echo=TRUE)
setwd("/Users/kelley/Dropbox/camera")
source("/tmp/r-plugin-kelley/Rsource-5408-photo.R", echo=TRUE)
source("/tmp/r-plugin-kelley/Rsource-5569-photo.R", echo=TRUE)
gcp
source("/tmp/r-plugin-kelley/Rsource-5569-photo.R", echo=TRUE)
source("/tmp/r-plugin-kelley/Rsource-5569-camera.R", echo=TRUE)
source("/tmp/r-plugin-kelley/Rsource-5569-photo.R", echo=TRUE)
source('proj.R')
proj(gcp$i, gcp$j, 20, 0, 0)
proj(gcp$i, gcp$j, 20, 0, 30, 0)
gcp$i
gcp$j
proj(gcp$i, gcp$j, 20, 0, 30, 0)
proj(gcp$i, gcp$j, elevation=20, altitude=0, azimuth=0, Vi=30)
source('proj.R')
proj(gcp$i, gcp$j, elevation=20, altitude=0, azimuth=0, Vi=30)
source('proj.R')
proj(gcp$i, gcp$j, elevation=20, altitude=0, azimuth=0, Vi=30)
p<-proj(gcp$i, gcp$j, elevation=20, altitude=0, azimuth=0, Vi=30);plot(p$Di, p$Dj)
source("/tmp/r-plugin-kelley/Rsource-5569-photo.R", echo=TRUE)
p
source("/tmp/r-plugin-kelley/Rsource-5569-photo.R", echo=TRUE)
library(ReadImages)
im<-read.jpeg("P1020248.JPG")
par(mfrow=c(1,1))
plot(im)
p
points(p$Di, p$Dj, col='red', pch=20)
points(p$Di, p$Dj, col='red', pch=20, cex=3)
points(p$i, p$j, col='red', pch=20, cex=3)
plot(im)
points(p$i, p$j, col='red', pch=20, cex=3)
points(p$i, p$j, col='white', pch=20, cex=3)
text(p$i, p$j, 1:length(p$i))
source("/tmp/r-plugin-kelley/Rsource-5569-photo.R", echo=TRUE)
ls(name='dan')
ls(pattern='dan')
ls(pattern='im')
ls(pattern='^im$')
source("/tmp/r-plugin-kelley/Rsource-5569-photo.R", echo=TRUE)
source("/tmp/r-plugin-kelley/Rsource-5569-camera.R", echo=TRUE)
source("/tmp/r-plugin-kelley/Rsource-5569-photo.R", echo=TRUE)
?geodXY()
?geoidXY()
?geoidDist
?geodDist
ls()
geodXY(cameraLat, cameraLon, gcp$lat, gcp$lon)
geodXy(cameraLat, cameraLon, gcp$lat, gcp$lon)
geodXy(gcp$lat, gcp$lon, cameraLat, cameraLon)
xy <- geodXy(gcp$lat, gcp$lon, cameraLat, cameraLon)
plot(xy)
plot(xy); text(xy$x, xy$y, 1:length(xy$x))
source("/tmp/r-plugin-kelley/Rsource-5569-photo.R", echo=TRUE)
?optim
misfit <- function(p)
{
    prediction <- proj(gcp$i, gcp$j, elevation=p[1], altitude=-10, azimuth=0, Vi=40)
}
misfit(c(30,0,0,40))
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
?optim
optim(c(30, 0, 0, 40), misfit)
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
misfit(c(30,0,0,40))
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
misfit(c(30,0,0,40))
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
p
xy
xy$x - gcp$Di
gcp
Q
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
o
o$par
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
altitude
azimuth
o$par
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
xy$x
p$Di
plot(xy$x, p$Di)
plot(xy$x, p$Dj)
plot(xy)
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
R
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
Q
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
R
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
DiDj
DiDj[,1]
Q
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
o$par
Vi
elevation
altitude
azimuth
o
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
plot(elevationVec)
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
plot(elevationVec)
plot(elevationVec, type='l')
plot(altitudeVec, type='l')
plot(ViVec, type='l')
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
plot(ViVec, type='l')
quartz()
plot(ViVec, type='l')
elevation
elevationVec
plot(elevationVec, type='l')
plot(elevationVec, type='l');abline(h=0)
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
plot(elevationVec, type='l');abline(h=0)
elevation
plot(azimuthVec, type='l');abline(h=0)
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
plot(azimuthVec, type='l');abline(h=0)
o$par
plot(altitudeVec, type='l');abline(h=0)
?optim
?constrOptim
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
o
proj(gcp$i, gcp$j, elevation, altitude, azimuth, Vi)
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
pred
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
azimuth
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
azimuth
plot(altitudeVec, type='l');abline(h=0)
plot(elevationVec, type='l');abline(h=0)
plot(altitudeVec, type='l');abline(h=0)
plot(azimuthVec, type='l');abline(h=0)
plot(VIVec, type='l');abline(h=0)
plot(ViVec, type='l');abline(h=0)
altitudeVec
altitude
elevation
o
elevation
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
o
2*atan(7.144 / 10.87)
2*atan(7.144 / 10.87) * 180/pi
o
2*atan(35/2/50)
2*atan(35/2/50)*180/pi
2*atan(7.144 / 2 / 10.87) * 180/pi
o
o$par
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
o$par
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
o$par
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
plot(coastlineHalifax, center=c(-63.56, 44.640), span=4)
predLat
predLon
points(predLat, predLon, col='red')
points(predLon, predLat, col='red')
predLon <- cameraLon + pred$Di / 111e3 / cos(cameraLat * pi / 180)
plot(coastlineHalifax, center=c(-63.56, 44.640), span=4)
points(predLon, predLat, col='red')
source("/tmp/r-plugin-kelley/Rsource-5569-fit.R", echo=TRUE)
    dppi <- v / Ni                      # degrees per horizontal pixel
    dppVertical <- v / Nj                     # degrees per pixel (vertical)
?abline
q()
?abline
q()
